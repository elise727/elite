function shakeError(a,c,d){if($(c).length<=a){return false}var b=$(c).eq(a);var e=$(b).position();if(d&&d==="up"){$(b).animate({top:e.top+10},300,"swing",function(){$(this).animate({top:e.top-5},400,"swing",function(){$(this).animate({top:e.top},200,"swing",function(){shakeError(a+1,c,"up")})})})}else{$(b).animate({left:e.left+10},300,"swing",function(){$(this).animate({left:e.left-5},400,"swing",function(){$(this).animate({left:e.left},200,"swing",function(){shakeError(a+1,c)})})})}}var Kicksend={mailcheck:{threshold:3,defaultDomains:["yahoo.com","google.com","hotmail.com","gmail.com","me.com","aol.com","mac.com","live.com","comcast.net","googlemail.com","msn.com","hotmail.co.uk","yahoo.co.uk","facebook.com","verizon.net","sbcglobal.net","att.net","gmx.com","gmx.de","mail.com","outlook.com","online.de","t-online.de","web.de","azet.sk","hotmail.es","yahoo.es","inbox.ru","list.ru","mail.ru","interia.pl","bk.ru","yahoo.fr","yahoo.de","orange.fr","freemail.hu","yandex.ru","wp.pl","seznam.cz","hotmail.fr","live.fr","sfr.fr","citromail.hu","rambler.ru","o2.pl","live.nl","laposte.net","free.fr","centrum.cz"],defaultTopLevelDomains:["co.uk","com","net","org","info","edu","gov","mil","de","dk","se","fr","at","ch","es","it","nl","pl","ru","tr","cz","no","fi","mx","hu"],run:function(b){b.domains=b.domains||Kicksend.mailcheck.defaultDomains;b.topLevelDomains=b.topLevelDomains||Kicksend.mailcheck.defaultTopLevelDomains;b.distanceFunction=b.distanceFunction||Kicksend.sift3Distance;var a=Kicksend.mailcheck.suggest(encodeURI(b.email),b.domains,b.topLevelDomains,b.distanceFunction);if(a){if(b.suggested){b.suggested(a)}}else{if(b.empty){b.empty()}}},suggest:function(f,c,g,e){f=f.toLowerCase();var b=this.splitEmail(f);var d=this.findClosestDomain(b.domain,c,e);if(d){if(d!=b.domain){return{address:b.address,domain:d,full:b.address+"@"+d}}}else{var a=this.findClosestDomain(b.topLevelDomain,g);if(b.domain&&a&&a!=b.topLevelDomain){var h=b.domain;d=h.substring(0,h.lastIndexOf(b.topLevelDomain))+a;return{address:b.address,domain:d,full:b.address+"@"+d}}}return false},findClosestDomain:function(f,a,c){var g;var d=99;var b=null;if(!f||!a){return false}if(!c){c=this.sift3Distance}for(var e=0;e<a.length;e++){if(f===a[e]){return f}g=c(f,a[e]);if(g<d){d=g;b=a[e]}}if(d<=this.threshold&&b!==null){return b}else{return false}},sift3Distance:function(f,b){if(f==null||f.length===0){if(b==null||b.length===0){return 0}else{return b.length}}if(b==null||b.length===0){return f.length}var j=0;var h=0;var g=0;var a=0;var e=5;while((j+h<f.length)&&(j+g<b.length)){if(f.charAt(j+h)==b.charAt(j+g)){a++}else{h=0;g=0;for(var d=0;d<e;d++){if((j+d<f.length)&&(f.charAt(j+d)==b.charAt(j))){h=d;break}if((j+d<b.length)&&(f.charAt(j)==b.charAt(j+d))){g=d;break}}}j++}return(f.length+b.length)/2-a},splitEmail:function(b){var e=b.split("@");if(e.length<2){return false}for(var c=0;c<e.length;c++){if(e[c]===""){return false}}var d=e.pop();var f=d.split(".");var a="";if(f.length==0){return false}else{if(f.length==1){a=f[0]}else{for(var c=1;c<f.length;c++){a+=f[c]+"."}if(f.length>=2){a=a.substring(0,a.length-1)}}}return{topLevelDomain:a,domain:d,address:e.join("@")}}}};if(typeof module!=="undefined"&&module.exports){module.exports=Kicksend.mailcheck}if(typeof window!=="undefined"&&window.jQuery){(function(a){a.fn.mailcheck=function(e){var b=this;if(e.suggested){var d=e.suggested;e.suggested=function(f){d(b,f)}}if(e.empty){var c=e.empty;e.empty=function(){c.call(null,b)}}e.email=this.val();Kicksend.mailcheck.run(e)}})(jQuery)}var localeSwitch=(function(){var a=["de_CH","fr_CH","nl_BE","fr_BE","en_CA_elite","fr_CA_elite","en_CA_silver","fr_CA_silver"];function c(f){f=f.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e="[\\?&]"+f+"=([^&#]*)";var h=new RegExp(e);var g=h.exec(window.location.href);if(g===null){return""}else{return g[1]}}function b(f,e){$(f).each(function(){if($(this).hasClass(e)){$($(this).addClass("active"))}})}function d(f){var e=$('input[name="view.locale"]');for(var g=0;g<a.length;g++){if(c("loc")===a[g]){b(".localSwitch li",c("loc"));e.val(c("loc"))}else{if(!c("")){b(".localSwitch li",f);e.attr("value",f)}}}}return{setLocale:d}})();$(function(){$("#emailLogin, #regEmail").on("keydown",function(d){if(d.originalEvent.keyCode===32){d.preventDefault();return false}}).on("input blur",function(){var d=this.value.replace(/\s+/g,"");if(d!==this.value){this.value=d}});var b={};b={error:$(".errorBoxEmail"),box:$('<div class="errorBox errorBoxEmailSpellCheck suggestionBox" id="suggestionBox" />'),mail:undefined};$("#regEmail").on("blur",function(){var d=$(this);d.mailcheck({suggested:function(f,e){b.mail=e.full;if(b.error&&b.error.length>0){b.error.remove()}$("#fieldsBox").append($(b.box).html(Zeus.getResourceByKey("jsp.blocks.middle.register.register.box.mail.suggestion",['<span class="suggestion"> '+b.mail+"</span>"])));$(b.box).css("margin-top",$(b.box).outerHeight()/-2+"px");shakeError(0,b.box);$(".suggestion").on("click",function(){f.val(b.mail);b.box.remove()})},empty:function(e){b.box.remove()}})});$("#registerBox").on("click","#searchedGenderMale, #searchedGenderFemale",function(){var d="genderMale";if($(this).attr("id")==="searchedGenderMale"){d="genderFemale"}$("#"+d).trigger("click")});$("#loginTeaser fieldset span.textbox input").focus(function(){$(this).parent("span").addClass("error")}).blur(function(){$(this).parent("span").removeClass("error")});var a=$(".errorBox");a.each(function(d,e){$(e).css("margin-top",$(e).outerHeight()/-2+"px")});shakeError(0,a);$("#loginForm").submit(function(){var d=$(this).find('button[type="submit"]');d.prop("disabled","disabled").addClass("disabled")});$("#registerForm").submit(function(){$("html").addClass("loading");$(this).find('button[type="submit"]').prop("disabled","disabled").addClass("disabled")});var c=$("#registrationErrorsMobile");if(c.length&&c.is(":visible")){window.scrollTo(0,c.offset().top)}if(window.PasswordCredential){$("#loginForm, #loginCmd").on("submit",function(d){navigator.credentials.store(new PasswordCredential(d.target))})}});